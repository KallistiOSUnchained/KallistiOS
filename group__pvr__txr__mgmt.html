<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KallistiOS: Texturing</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">KallistiOS<span id="projectnumber">&#160;git master</span>
   </div>
   <div id="projectbrief">Independent SDK for the Sega Dreamcast</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__pvr__txr__mgmt.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Topics</a> &#124;
<a href="#files">Files</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Texturing<div class="ingroups"><a class="el" href="group__video.html">Video</a> &raquo; <a class="el" href="group__pvr.html">PowerVR API</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>API for managing PowerVR textures  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="groups" name="groups"></a>
Topics</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pvr__txrload__constants.html">Flags</a></td></tr>
<tr class="memdesc:group__pvr__txrload__constants"><td class="mdescLeft">&#160;</td><td class="mdescRight">Texture loading constants <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pvr__txr__fmts.html">Formats</a></td></tr>
<tr class="memdesc:group__pvr__txr__fmts"><td class="mdescLeft">&#160;</td><td class="mdescRight">PowerVR texture formats <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pvr__txr_8h.html">pvr_txr.h</a></td></tr>
<tr class="memdesc:pvr__txr_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Texture management with the PVR 3D API. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga4e9dad5c5fd7c8bdd66574ca7faf12fe" id="r_ga4e9dad5c5fd7c8bdd66574ca7faf12fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__pvr__vram.html#ga621fa8a260d17a31b12d4155426d0fa4">pvr_ptr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4e9dad5c5fd7c8bdd66574ca7faf12fe">pvr_get_front_buffer</a> (void)</td></tr>
<tr class="memdesc:ga4e9dad5c5fd7c8bdd66574ca7faf12fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the front buffer.  <br /></td></tr>
<tr class="separator:ga4e9dad5c5fd7c8bdd66574ca7faf12fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a68edeccfeba7ca52af3eb8d7bddd9c" id="r_ga1a68edeccfeba7ca52af3eb8d7bddd9c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1a68edeccfeba7ca52af3eb8d7bddd9c">pvr_txr_load</a> (const void *src, <a class="el" href="group__pvr__vram.html#ga621fa8a260d17a31b12d4155426d0fa4">pvr_ptr_t</a> dst, uint32_t count)</td></tr>
<tr class="memdesc:ga1a68edeccfeba7ca52af3eb8d7bddd9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load raw texture data from an SH-4 buffer into PVR RAM.  <br /></td></tr>
<tr class="separator:ga1a68edeccfeba7ca52af3eb8d7bddd9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga634e5fe3474bc60805b3618509d11322" id="r_ga634e5fe3474bc60805b3618509d11322"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga634e5fe3474bc60805b3618509d11322">pvr_txr_load_ex</a> (const void *src, <a class="el" href="group__pvr__vram.html#ga621fa8a260d17a31b12d4155426d0fa4">pvr_ptr_t</a> dst, uint32_t w, uint32_t h, uint32_t flags)</td></tr>
<tr class="memdesc:ga634e5fe3474bc60805b3618509d11322"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load texture data from an SH-4 buffer into PVR RAM, twiddling it in the process.  <br /></td></tr>
<tr class="separator:ga634e5fe3474bc60805b3618509d11322"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2d9843fc0c1cd0baebe23a8f44879855" id="r_ga2d9843fc0c1cd0baebe23a8f44879855"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2d9843fc0c1cd0baebe23a8f44879855">pvr_txr_load_kimg</a> (const <a class="el" href="structkos__img__t.html">kos_img_t</a> *img, <a class="el" href="group__pvr__vram.html#ga621fa8a260d17a31b12d4155426d0fa4">pvr_ptr_t</a> dst, uint32_t flags)</td></tr>
<tr class="memdesc:ga2d9843fc0c1cd0baebe23a8f44879855"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load a KOS Platform Independent Image (subject to constraint checking).  <br /></td></tr>
<tr class="separator:ga2d9843fc0c1cd0baebe23a8f44879855"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>API for managing PowerVR textures </p>
<p>Helper functions for handling texture tasks of various kinds. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga4e9dad5c5fd7c8bdd66574ca7faf12fe" name="ga4e9dad5c5fd7c8bdd66574ca7faf12fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4e9dad5c5fd7c8bdd66574ca7faf12fe">&#9670;&#160;</a></span>pvr_get_front_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__pvr__vram.html#ga621fa8a260d17a31b12d4155426d0fa4">pvr_ptr_t</a> pvr_get_front_buffer </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pointer to the front buffer. </p>
<p>This function can be used to retrieve a pointer to the front buffer, aka. the last fully rendered buffer that is either being displayed right now, or is queued to be displayed.</p>
<p>Note that the frame buffers lie in 32-bit memory, while textures lie in 64-bit memory. The address returned will point to 64-bit memory, but the front buffer cannot be used directly as a regular texture.</p>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the front buffer. </dd></dl>

</div>
</div>
<a id="ga1a68edeccfeba7ca52af3eb8d7bddd9c" name="ga1a68edeccfeba7ca52af3eb8d7bddd9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1a68edeccfeba7ca52af3eb8d7bddd9c">&#9670;&#160;</a></span>pvr_txr_load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pvr_txr_load </td>
          <td>(</td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>src</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__pvr__vram.html#ga621fa8a260d17a31b12d4155426d0fa4">pvr_ptr_t</a></td>          <td class="paramname"><span class="paramname"><em>dst</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>count</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load raw texture data from an SH-4 buffer into PVR RAM. </p>
<p>This essentially just acts as a memcpy() from main RAM to PVR RAM, using the Store Queues and 64-bit TA bus.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>The location in main RAM holding the texture. </td></tr>
    <tr><td class="paramname">dst</td><td>The location in PVR RAM to copy to. </td></tr>
    <tr><td class="paramname">count</td><td>The size of the texture in bytes (must be a multiple of 32). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga634e5fe3474bc60805b3618509d11322" name="ga634e5fe3474bc60805b3618509d11322"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga634e5fe3474bc60805b3618509d11322">&#9670;&#160;</a></span>pvr_txr_load_ex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pvr_txr_load_ex </td>
          <td>(</td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>src</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__pvr__vram.html#ga621fa8a260d17a31b12d4155426d0fa4">pvr_ptr_t</a></td>          <td class="paramname"><span class="paramname"><em>dst</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>w</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>h</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load texture data from an SH-4 buffer into PVR RAM, twiddling it in the process. </p>
<p>This function loads a texture to the PVR's RAM with the specified set of flags. It will currently always twiddle the data, whether you ask it to or not, and many of the parameters are just plain not supported at all... Pretty much the only supported flag, other than the format ones is the PVR_TXRLOAD_INVERT_Y one.</p>
<p>This will be slower than using <a class="el" href="#ga1a68edeccfeba7ca52af3eb8d7bddd9c" title="Load raw texture data from an SH-4 buffer into PVR RAM.">pvr_txr_load()</a> in pretty much all cases, so unless you need to twiddle your texture, just use that instead.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>The location to copy from. </td></tr>
    <tr><td class="paramname">dst</td><td>The location to copy to. </td></tr>
    <tr><td class="paramname">w</td><td>The width of the texture, in pixels. </td></tr>
    <tr><td class="paramname">h</td><td>The height of the texture, in pixels. </td></tr>
    <tr><td class="paramname">flags</td><td>Some set of flags, ORed together.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__pvr__txrload__constants.html" title="Texture loading constants">Flags</a> </dd></dl>

</div>
</div>
<a id="ga2d9843fc0c1cd0baebe23a8f44879855" name="ga2d9843fc0c1cd0baebe23a8f44879855"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2d9843fc0c1cd0baebe23a8f44879855">&#9670;&#160;</a></span>pvr_txr_load_kimg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pvr_txr_load_kimg </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structkos__img__t.html">kos_img_t</a> *</td>          <td class="paramname"><span class="paramname"><em>img</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__pvr__vram.html#ga621fa8a260d17a31b12d4155426d0fa4">pvr_ptr_t</a></td>          <td class="paramname"><span class="paramname"><em>dst</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load a KOS Platform Independent Image (subject to constraint checking). </p>
<p>This function loads a KOS Platform Independent image to the PVR's RAM with the specified set of flags. This function, unlike <a class="el" href="#ga634e5fe3474bc60805b3618509d11322" title="Load texture data from an SH-4 buffer into PVR RAM, twiddling it in the process.">pvr_txr_load_ex()</a> supports everything in the flags available, other than what's explicitly marked as not supported.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>The image to load. </td></tr>
    <tr><td class="paramname">dst</td><td>The location to copy to. </td></tr>
    <tr><td class="paramname">flags</td><td>Some set of flags, ORed together.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__pvr__txrload__constants.html" title="Texture loading constants">Flags</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Unless you explicitly tell this function to not twiddle the texture (by ORing <a class="el" href="group__pvr__txrload__constants.html#gabfeae21a314dd7288312b92a6767193d">PVR_TXRLOAD_FMT_NOTWIDDLE</a> or it's equivalent <a class="el" href="group__pvr__txrload__constants.html#ga40e3a93ed6aa0ebc007d088ededd8181">PVR_TXRLOAD_FMT_TWIDDLED</a> with flags), this function will twiddle the texture while loading. Keep that in mind when setting the texture format in polygon headers later. </dd>
<dd>
You cannot specify both <a class="el" href="group__pvr__txrload__constants.html#gabfeae21a314dd7288312b92a6767193d">PVR_TXRLOAD_FMT_NOTWIDDLE</a> (or equivalently <a class="el" href="group__pvr__txrload__constants.html#ga40e3a93ed6aa0ebc007d088ededd8181">PVR_TXRLOAD_FMT_TWIDDLED</a>) and <a class="el" href="group__pvr__txrload__constants.html#ga819951024acd9fe8fc9651fb6f22e7e5">PVR_TXRLOAD_INVERT_Y</a> in the flags. </dd>
<dd>
DMA and Store Queue based loading is not available from this function if it twiddles the texture while loading. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
