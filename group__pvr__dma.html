<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KallistiOS: DMA</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">KallistiOS<span id="projectnumber">&#160;git master</span>
   </div>
   <div id="projectbrief">Independent SDK for the Sega Dreamcast</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__pvr__dma.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">DMA<div class="ingroups"><a class="el" href="group__video.html">Video</a> &raquo; <a class="el" href="group__pvr.html">PowerVR API</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>PowerVR DMA driver  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pvr__dma_8h.html">pvr_dma.h</a></td></tr>
<tr class="memdesc:pvr__dma_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">API for utilizing the DMA with the PVR for rendering. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga1c983e6877a569204c25ec9e5ad48d63" id="r_ga1c983e6877a569204c25ec9e5ad48d63"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1c983e6877a569204c25ec9e5ad48d63">pvr_dma_callback_t</a>) (void *data)</td></tr>
<tr class="memdesc:ga1c983e6877a569204c25ec9e5ad48d63"><td class="mdescLeft">&#160;</td><td class="mdescRight">PVR DMA interrupt callback type.  <br /></td></tr>
<tr class="separator:ga1c983e6877a569204c25ec9e5ad48d63"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga7d772c6dfeec1493c31bb6a200cd3744" id="r_ga7d772c6dfeec1493c31bb6a200cd3744"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7d772c6dfeec1493c31bb6a200cd3744">pvr_dma_type_t</a> { <br />
&#160;&#160;<a class="el" href="#gga7d772c6dfeec1493c31bb6a200cd3744afaba0c72033f26fb2b8ab7aec80e8a77">PVR_DMA_VRAM64</a>
, <a class="el" href="#gga7d772c6dfeec1493c31bb6a200cd3744a93bbfc6753338b4ba5136f68188e0df5">PVR_DMA_VRAM32</a>
, <a class="el" href="#gga7d772c6dfeec1493c31bb6a200cd3744a00a5de5fff8a3ddf7dfec57026f918dc">PVR_DMA_TA</a>
, <a class="el" href="#gga7d772c6dfeec1493c31bb6a200cd3744aa8301fa03015fdf178b78ccb2bbadfe3">PVR_DMA_YUV</a>
, <br />
&#160;&#160;<a class="el" href="#gga7d772c6dfeec1493c31bb6a200cd3744a2c305a28d30dcda9a37bfea969fe4049">PVR_DMA_VRAM32_SB</a>
, <a class="el" href="#gga7d772c6dfeec1493c31bb6a200cd3744aceda251428b672b45fef93344e7f105b">PVR_DMA_VRAM64_SB</a>
, <a class="el" href="#gga7d772c6dfeec1493c31bb6a200cd3744a4df192f91b966baabc4f72a4457279f7">PVR_DMA_REGISTERS</a>
<br />
 }</td></tr>
<tr class="memdesc:ga7d772c6dfeec1493c31bb6a200cd3744"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transfer modes with TA/PVR DMA and Store Queues.  <a href="#ga7d772c6dfeec1493c31bb6a200cd3744">More...</a><br /></td></tr>
<tr class="separator:ga7d772c6dfeec1493c31bb6a200cd3744"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga2052d2931d4d43a1f9a9a522411cc767" id="r_ga2052d2931d4d43a1f9a9a522411cc767"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2052d2931d4d43a1f9a9a522411cc767">pvr_dma_transfer</a> (const void *src, uintptr_t dest, size_t count, <a class="el" href="#ga7d772c6dfeec1493c31bb6a200cd3744">pvr_dma_type_t</a> type, bool block, <a class="el" href="#ga1c983e6877a569204c25ec9e5ad48d63">pvr_dma_callback_t</a> callback, void *cbdata)</td></tr>
<tr class="memdesc:ga2052d2931d4d43a1f9a9a522411cc767"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a DMA transfer to the PVR RAM over 64-bit TA bus.  <br /></td></tr>
<tr class="separator:ga2052d2931d4d43a1f9a9a522411cc767"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2fb51a5199b68eb794dfee318a6ab99a" id="r_ga2fb51a5199b68eb794dfee318a6ab99a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2fb51a5199b68eb794dfee318a6ab99a">pvr_txr_load_dma</a> (const void *src, <a class="el" href="group__pvr__vram.html#ga621fa8a260d17a31b12d4155426d0fa4">pvr_ptr_t</a> dest, size_t count, bool block, <a class="el" href="#ga1c983e6877a569204c25ec9e5ad48d63">pvr_dma_callback_t</a> callback, void *cbdata)</td></tr>
<tr class="memdesc:ga2fb51a5199b68eb794dfee318a6ab99a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load a texture using TA DMA.  <br /></td></tr>
<tr class="separator:ga2fb51a5199b68eb794dfee318a6ab99a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8cb0c72f5ade6e432e4d1c9920228a48" id="r_ga8cb0c72f5ade6e432e4d1c9920228a48"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8cb0c72f5ade6e432e4d1c9920228a48">pvr_dma_load_ta</a> (const void *src, size_t count, bool block, <a class="el" href="#ga1c983e6877a569204c25ec9e5ad48d63">pvr_dma_callback_t</a> callback, void *cbdata)</td></tr>
<tr class="memdesc:ga8cb0c72f5ade6e432e4d1c9920228a48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load vertex data to the TA using TA DMA.  <br /></td></tr>
<tr class="separator:ga8cb0c72f5ade6e432e4d1c9920228a48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga07a9d0bac01e1149b1732ef83837c16d" id="r_ga07a9d0bac01e1149b1732ef83837c16d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga07a9d0bac01e1149b1732ef83837c16d">pvr_dma_yuv_conv</a> (const void *src, size_t count, bool block, <a class="el" href="#ga1c983e6877a569204c25ec9e5ad48d63">pvr_dma_callback_t</a> callback, void *cbdata)</td></tr>
<tr class="memdesc:ga07a9d0bac01e1149b1732ef83837c16d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load yuv data to the YUV converter using TA DMA.  <br /></td></tr>
<tr class="separator:ga07a9d0bac01e1149b1732ef83837c16d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4a286584074c5d23d73ab3575ec033ba" id="r_ga4a286584074c5d23d73ab3575ec033ba"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4a286584074c5d23d73ab3575ec033ba">pvr_dma_ready</a> (void)</td></tr>
<tr class="memdesc:ga4a286584074c5d23d73ab3575ec033ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is PVR DMA is inactive?  <br /></td></tr>
<tr class="separator:ga4a286584074c5d23d73ab3575ec033ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad109fa463b781e04238895138e0a2a38" id="r_gad109fa463b781e04238895138e0a2a38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad109fa463b781e04238895138e0a2a38">pvr_dma_init</a> (void)</td></tr>
<tr class="memdesc:gad109fa463b781e04238895138e0a2a38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize TA/PVR DMA.  <br /></td></tr>
<tr class="separator:gad109fa463b781e04238895138e0a2a38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaea1ae7a936cd5952942d6039f00c9862" id="r_gaea1ae7a936cd5952942d6039f00c9862"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaea1ae7a936cd5952942d6039f00c9862">pvr_dma_shutdown</a> (void)</td></tr>
<tr class="memdesc:gaea1ae7a936cd5952942d6039f00c9862"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shut down TA/PVR DMA.  <br /></td></tr>
<tr class="separator:gaea1ae7a936cd5952942d6039f00c9862"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>PowerVR DMA driver </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga1c983e6877a569204c25ec9e5ad48d63" name="ga1c983e6877a569204c25ec9e5ad48d63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1c983e6877a569204c25ec9e5ad48d63">&#9670;&#160;</a></span>pvr_dma_callback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* pvr_dma_callback_t) (void *data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PVR DMA interrupt callback type. </p>
<p>Functions that act as callbacks when DMA completes should be of this type. These functions will be called inside an interrupt context, so don't try to use anything that might stall.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>User data passed in to the <a class="el" href="#ga2052d2931d4d43a1f9a9a522411cc767" title="Perform a DMA transfer to the PVR RAM over 64-bit TA bus.">pvr_dma_transfer()</a> function. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga7d772c6dfeec1493c31bb6a200cd3744" name="ga7d772c6dfeec1493c31bb6a200cd3744"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7d772c6dfeec1493c31bb6a200cd3744">&#9670;&#160;</a></span>pvr_dma_type_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#ga7d772c6dfeec1493c31bb6a200cd3744">pvr_dma_type_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transfer modes with TA/PVR DMA and Store Queues. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga7d772c6dfeec1493c31bb6a200cd3744afaba0c72033f26fb2b8ab7aec80e8a77" name="gga7d772c6dfeec1493c31bb6a200cd3744afaba0c72033f26fb2b8ab7aec80e8a77"></a>PVR_DMA_VRAM64&#160;</td><td class="fielddoc"><p>Transfer to VRAM using TA bus. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga7d772c6dfeec1493c31bb6a200cd3744a93bbfc6753338b4ba5136f68188e0df5" name="gga7d772c6dfeec1493c31bb6a200cd3744a93bbfc6753338b4ba5136f68188e0df5"></a>PVR_DMA_VRAM32&#160;</td><td class="fielddoc"><p>Transfer to VRAM using TA bus. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga7d772c6dfeec1493c31bb6a200cd3744a00a5de5fff8a3ddf7dfec57026f918dc" name="gga7d772c6dfeec1493c31bb6a200cd3744a00a5de5fff8a3ddf7dfec57026f918dc"></a>PVR_DMA_TA&#160;</td><td class="fielddoc"><p>Transfer to the tile accelerator. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga7d772c6dfeec1493c31bb6a200cd3744aa8301fa03015fdf178b78ccb2bbadfe3" name="gga7d772c6dfeec1493c31bb6a200cd3744aa8301fa03015fdf178b78ccb2bbadfe3"></a>PVR_DMA_YUV&#160;</td><td class="fielddoc"><p>Transfer to the YUV converter (TA) </p>
</td></tr>
<tr><td class="fieldname"><a id="gga7d772c6dfeec1493c31bb6a200cd3744a2c305a28d30dcda9a37bfea969fe4049" name="gga7d772c6dfeec1493c31bb6a200cd3744a2c305a28d30dcda9a37bfea969fe4049"></a>PVR_DMA_VRAM32_SB&#160;</td><td class="fielddoc"><p>Transfer to/from VRAM using PVR i/f. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga7d772c6dfeec1493c31bb6a200cd3744aceda251428b672b45fef93344e7f105b" name="gga7d772c6dfeec1493c31bb6a200cd3744aceda251428b672b45fef93344e7f105b"></a>PVR_DMA_VRAM64_SB&#160;</td><td class="fielddoc"><p>Transfer to/from VRAM using PVR i/f. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga7d772c6dfeec1493c31bb6a200cd3744a4df192f91b966baabc4f72a4457279f7" name="gga7d772c6dfeec1493c31bb6a200cd3744a4df192f91b966baabc4f72a4457279f7"></a>PVR_DMA_REGISTERS&#160;</td><td class="fielddoc"><p>Transfer to/from PVR registers. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gad109fa463b781e04238895138e0a2a38" name="gad109fa463b781e04238895138e0a2a38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad109fa463b781e04238895138e0a2a38">&#9670;&#160;</a></span>pvr_dma_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pvr_dma_init </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize TA/PVR DMA. </p>

</div>
</div>
<a id="ga8cb0c72f5ade6e432e4d1c9920228a48" name="ga8cb0c72f5ade6e432e4d1c9920228a48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8cb0c72f5ade6e432e4d1c9920228a48">&#9670;&#160;</a></span>pvr_dma_load_ta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pvr_dma_load_ta </td>
          <td>(</td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>src</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>count</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>block</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ga1c983e6877a569204c25ec9e5ad48d63">pvr_dma_callback_t</a></td>          <td class="paramname"><span class="paramname"><em>callback</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>cbdata</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load vertex data to the TA using TA DMA. </p>
<p>This is essentially a convenience wrapper for <a class="el" href="#ga2052d2931d4d43a1f9a9a522411cc767" title="Perform a DMA transfer to the PVR RAM over 64-bit TA bus.">pvr_dma_transfer()</a>, so all notes that apply to it also apply here.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>Where to copy from. Must be 32-byte aligned. </td></tr>
    <tr><td class="paramname">count</td><td>The number of bytes to copy. Must be a multiple of 32. </td></tr>
    <tr><td class="paramname">block</td><td>True if you want the function to block until the DMA completes. </td></tr>
    <tr><td class="paramname">callback</td><td>A function to call upon completion of the DMA. </td></tr>
    <tr><td class="paramname">cbdata</td><td>Data to pass to the callback function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>On success. </td></tr>
    <tr><td class="paramname">-1</td><td>On failure. Sets errno as appropriate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Error Conditions:</dt><dd><em>EINPROGRESS</em> - DMA already in progress <br  />
<em>EFAULT</em> - dest is not 32-byte aligned <br  />
<em>EIO</em> - I/O error </dd></dl>

</div>
</div>
<a id="ga4a286584074c5d23d73ab3575ec033ba" name="ga4a286584074c5d23d73ab3575ec033ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4a286584074c5d23d73ab3575ec033ba">&#9670;&#160;</a></span>pvr_dma_ready()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool pvr_dma_ready </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is PVR DMA is inactive? </p>
<dl class="section return"><dt>Returns</dt><dd>True if there is no PVR DMA active, thus a DMA can begin or false if there is an active DMA. </dd></dl>

</div>
</div>
<a id="gaea1ae7a936cd5952942d6039f00c9862" name="gaea1ae7a936cd5952942d6039f00c9862"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaea1ae7a936cd5952942d6039f00c9862">&#9670;&#160;</a></span>pvr_dma_shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pvr_dma_shutdown </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shut down TA/PVR DMA. </p>

</div>
</div>
<a id="ga2052d2931d4d43a1f9a9a522411cc767" name="ga2052d2931d4d43a1f9a9a522411cc767"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2052d2931d4d43a1f9a9a522411cc767">&#9670;&#160;</a></span>pvr_dma_transfer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pvr_dma_transfer </td>
          <td>(</td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>src</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uintptr_t</td>          <td class="paramname"><span class="paramname"><em>dest</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>count</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ga7d772c6dfeec1493c31bb6a200cd3744">pvr_dma_type_t</a></td>          <td class="paramname"><span class="paramname"><em>type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>block</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ga1c983e6877a569204c25ec9e5ad48d63">pvr_dma_callback_t</a></td>          <td class="paramname"><span class="paramname"><em>callback</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>cbdata</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform a DMA transfer to the PVR RAM over 64-bit TA bus. </p>
<p>This function copies a block of data to the PVR or its memory via DMA. There are all kinds of constraints that must be fulfilled to actually do this, so make sure to read all the fine print with the parameter list.</p>
<p>If a callback is specified, it will be called in an interrupt context, so keep that in mind in writing the callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>Where to copy from. Must be 32-byte aligned. </td></tr>
    <tr><td class="paramname">dest</td><td>Where to copy to. Must be 32-byte aligned. </td></tr>
    <tr><td class="paramname">count</td><td>The number of bytes to copy. Must be a multiple of 32. </td></tr>
    <tr><td class="paramname">type</td><td>The type of DMA transfer to do (see list of modes). </td></tr>
    <tr><td class="paramname">block</td><td>True if you want the function to block until the DMA completes. </td></tr>
    <tr><td class="paramname">callback</td><td>A function to call upon completion of the DMA. </td></tr>
    <tr><td class="paramname">cbdata</td><td>Data to pass to the callback function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>On success. </td></tr>
    <tr><td class="paramname">-1</td><td>On failure. Sets errno as appropriate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Error Conditions:</dt><dd><em>EINPROGRESS</em> - DMA already in progress <br  />
<em>EFAULT</em> - dest is not 32-byte aligned <br  />
<em>EIO</em> - I/O error </dd></dl>

</div>
</div>
<a id="ga07a9d0bac01e1149b1732ef83837c16d" name="ga07a9d0bac01e1149b1732ef83837c16d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga07a9d0bac01e1149b1732ef83837c16d">&#9670;&#160;</a></span>pvr_dma_yuv_conv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pvr_dma_yuv_conv </td>
          <td>(</td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>src</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>count</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>block</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ga1c983e6877a569204c25ec9e5ad48d63">pvr_dma_callback_t</a></td>          <td class="paramname"><span class="paramname"><em>callback</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>cbdata</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load yuv data to the YUV converter using TA DMA. </p>
<p>This is essentially a convenience wrapper for <a class="el" href="#ga2052d2931d4d43a1f9a9a522411cc767" title="Perform a DMA transfer to the PVR RAM over 64-bit TA bus.">pvr_dma_transfer()</a>, so all notes that apply to it also apply here.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>Where to copy from. Must be 32-byte aligned. </td></tr>
    <tr><td class="paramname">count</td><td>The number of bytes to copy. Must be a multiple of 32. </td></tr>
    <tr><td class="paramname">block</td><td>True if you want the function to block until the DMA completes. </td></tr>
    <tr><td class="paramname">callback</td><td>A function to call upon completion of the DMA. </td></tr>
    <tr><td class="paramname">cbdata</td><td>Data to pass to the callback function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>On success. </td></tr>
    <tr><td class="paramname">-1</td><td>On failure. Sets errno as appropriate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Error Conditions:</dt><dd><em>EINPROGRESS</em> - DMA already in progress <br  />
<em>EFAULT</em> - dest is not 32-byte aligned <br  />
<em>EIO</em> - I/O error </dd></dl>

</div>
</div>
<a id="ga2fb51a5199b68eb794dfee318a6ab99a" name="ga2fb51a5199b68eb794dfee318a6ab99a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2fb51a5199b68eb794dfee318a6ab99a">&#9670;&#160;</a></span>pvr_txr_load_dma()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pvr_txr_load_dma </td>
          <td>(</td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>src</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__pvr__vram.html#ga621fa8a260d17a31b12d4155426d0fa4">pvr_ptr_t</a></td>          <td class="paramname"><span class="paramname"><em>dest</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>count</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>block</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ga1c983e6877a569204c25ec9e5ad48d63">pvr_dma_callback_t</a></td>          <td class="paramname"><span class="paramname"><em>callback</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>cbdata</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load a texture using TA DMA. </p>
<p>This is essentially a convenience wrapper for <a class="el" href="#ga2052d2931d4d43a1f9a9a522411cc767" title="Perform a DMA transfer to the PVR RAM over 64-bit TA bus.">pvr_dma_transfer()</a>, so all notes that apply to it also apply here.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>Where to copy from. Must be 32-byte aligned. </td></tr>
    <tr><td class="paramname">dest</td><td>Where to copy to. Must be 32-byte aligned. </td></tr>
    <tr><td class="paramname">count</td><td>The number of bytes to copy. Must be a multiple of 32. </td></tr>
    <tr><td class="paramname">block</td><td>True if you want the function to block until the DMA completes. </td></tr>
    <tr><td class="paramname">callback</td><td>A function to call upon completion of the DMA. </td></tr>
    <tr><td class="paramname">cbdata</td><td>Data to pass to the callback function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>On success. </td></tr>
    <tr><td class="paramname">-1</td><td>On failure. Sets errno as appropriate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Error Conditions:</dt><dd><em>EINPROGRESS</em> - DMA already in progress <br  />
<em>EFAULT</em> - dest is not 32-byte aligned <br  />
<em>EIO</em> - I/O error </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
